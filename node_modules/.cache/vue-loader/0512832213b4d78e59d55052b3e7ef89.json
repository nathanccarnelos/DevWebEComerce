{"remainingRequest":"/home/nathanc/Documents/dev-web-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nathanc/Documents/dev-web-front/src/views/AdministrationPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nathanc/Documents/dev-web-front/src/views/AdministrationPage.vue","mtime":1574698629386},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/babel-loader/lib/index.js","mtime":1570733175938},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/vuetify-loader/lib/loader.js","mtime":1571059974964},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/cache-loader/dist/cjs.js","mtime":1571059965017},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/vue-loader/lib/index.js","mtime":1572976744560}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRtaW5pc3RyYXRpb25QYWdlJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5TGlzdDogW10sCiAgICAgIGNhdGVnb3J5TGlzdExvYWRpbmc6IGZhbHNlLAogICAgICB1bml0eUxpc3Q6IFtdLAogICAgICB1bml0eUxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXRlZ29yeUlkOiBudWxsLAogICAgICAgIHVuaXR5SWQ6IG51bGwsCiAgICAgICAgc3RvY2tDb3VudDogMCwKICAgICAgICBwcmljZTogMC4wMCwKICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgaW1hZ2U6IFtdCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeUxpc3QoKQogICAgdGhpcy5nZXRVbml0eUxpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZWdvcnlMaXN0ICgpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoJ2h0dHBzOi8vc2hpZWxkZWQtb2FzaXMtNzgzNDguaGVyb2t1YXBwLmNvbS9wdWJsaWMvYXBpL3Byb2R1Y3RzX2NhdGVnb3J5JykKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmNhdGVnb3J5TGlzdExvYWRpbmcgPSB0cnVlCiAgICAgICAgICB0aGlzLmNhdGVnb3J5TGlzdCA9IG1hcChyZXNwb25zZS5kYXRhLmRhdGEsICh7IGlkLCBub21lIH0pID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpZCwKICAgICAgICAgICAgICBuYW1lOiBub21lCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLmNhdGVnb3J5TGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0VW5pdHlMaXN0ICgpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoJ2h0dHBzOi8vc2hpZWxkZWQtb2FzaXMtNzgzNDguaGVyb2t1YXBwLmNvbS9wdWJsaWMvYXBpL3Byb2R1Y3RzX3VuaXR5JykKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnVuaXR5TGlzdExvYWRpbmcgPSB0cnVlCiAgICAgICAgICB0aGlzLnVuaXR5TGlzdCA9IG1hcChyZXNwb25zZS5kYXRhLmRhdGEsICh7IGlkLCBub21lIH0pID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpZCwKICAgICAgICAgICAgICBuYW1lOiBub21lCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLnVuaXR5TGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0pCiAgICB9LAogICAgc2VuZFByb2R1Y3QgKCkgewogICAgICB0aGlzLmF4aW9zLnBvc3QoJ2h0dHBzOi8vc2hpZWxkZWQtb2FzaXMtNzgzNDguaGVyb2t1YXBwLmNvbS9wdWJsaWMvYXBpL3Byb2R1Y3RzL3N0b3JlJywgewogICAgICAgICdub21lJzogdGhpcy5mb3JtRGF0YS5uYW1lLAogICAgICAgICdjYXRlZ29yeV9pZCc6IHRoaXMuZm9ybURhdGEuY2F0ZWdvcnlJZCwKICAgICAgICAndW5pdHlfaWQnOiB0aGlzLmZvcm1EYXRhLnVuaXR5SWQsCiAgICAgICAgJ3N0b2NrX2NvdW50JzogdGhpcy5mb3JtRGF0YS5zdG9ja0NvdW50LAogICAgICAgICdzdGF0dXMnOiBOdW1iZXIodGhpcy5mb3JtRGF0YS5zdGF0dXMpLAogICAgICAgICdwcmljZSc6IHRoaXMuZm9ybURhdGEucHJpY2UKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGdyb3VwOiAnYWRkVG9DYXJ0JywKICAgICAgICAgIHRpdGxlOiAnUHJvZHV0byBhZGljaW9uYWRvJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AdministrationPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdministrationPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <v-card>\n      <v-toolbar\n        color=\"green darken-1\"\n        dark\n      >\n        <v-toolbar-title>Adicionar Produto</v-toolbar-title>\n      </v-toolbar>\n      <v-container>\n        <v-row>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-text-field\n              label=\"Titulo\"\n              v-model=\"formData.name\"></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-text-field\n              label=\"Quantidade em estoque\"\n              v-model=\"formData.stockCount\"></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-text-field\n              counter\n              label=\"PreÃ§o\" prefix=\"R$\" type=\"number\" v-model=\"formData.price\"></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-switch\n              label=\"Status\"\n              v-model=\"formData.status\"></v-switch>\n          </v-col>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-select\n              :items=\"categoryList\"\n              :loading=\"categoryListLoading\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"categoria\"\n              v-model=\"formData.categoryId\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"12\" sm=\"6\" xs=\"12\">\n            <v-select\n              :items=\"unityList\"\n              :loading=\"unityListLoading\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"unity\"\n              v-model=\"formData.unityId\"\n            ></v-select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col cols=\"12\" xs=\"12\">\n            <v-file-input\n              accept=\"image/png, image/jpeg\"\n              label=\"Imagem\"\n              v-model=\"formData.image\"\n            ></v-file-input>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-card-actions>\n        <v-btn @click=\"sendProduct()\" color=\"primary\">Enviar</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport map from 'lodash/map'\n\nexport default {\n  name: 'AdministrationPage',\n  data () {\n    return {\n      categoryList: [],\n      categoryListLoading: false,\n      unityList: [],\n      unityListLoading: false,\n      formData: {\n        name: '',\n        categoryId: null,\n        unityId: null,\n        stockCount: 0,\n        price: 0.00,\n        status: true,\n        image: []\n      }\n    }\n  },\n  mounted () {\n    this.getCategoryList()\n    this.getUnityList()\n  },\n  methods: {\n    getCategoryList () {\n      this.axios.get('https://shielded-oasis-78348.herokuapp.com/public/api/products_category')\n        .then(response => {\n          this.categoryListLoading = true\n          this.categoryList = map(response.data.data, ({ id, nome }) => {\n            return {\n              id,\n              name: nome\n            }\n          })\n        })\n        .finally(() => {\n          this.categoryListLoading = false\n        })\n    },\n    getUnityList () {\n      this.axios.get('https://shielded-oasis-78348.herokuapp.com/public/api/products_unity')\n        .then(response => {\n          this.unityListLoading = true\n          this.unityList = map(response.data.data, ({ id, nome }) => {\n            return {\n              id,\n              name: nome\n            }\n          })\n        })\n        .finally(() => {\n          this.unityListLoading = false\n        })\n    },\n    sendProduct () {\n      this.axios.post('https://shielded-oasis-78348.herokuapp.com/public/api/products/store', {\n        'nome': this.formData.name,\n        'category_id': this.formData.categoryId,\n        'unity_id': this.formData.unityId,\n        'stock_count': this.formData.stockCount,\n        'status': Number(this.formData.status),\n        'price': this.formData.price\n      }).then(() => {\n        this.$notify({\n          group: 'addToCart',\n          title: 'Produto adicionado',\n          type: 'success'\n        })\n      })\n    }\n  }\n}\n</script>\n"]}]}