{"remainingRequest":"/home/nathanc/Documents/dev-web-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nathanc/Documents/dev-web-front/src/components/UserForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nathanc/Documents/dev-web-front/src/components/UserForm.vue","mtime":1574699192363},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/cache-loader/dist/cjs.js","mtime":1574699191487},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/thread-loader/dist/cjs.js","mtime":1574699192159},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/babel-loader/lib/index.js","mtime":1574699191467},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/vuetify-loader/lib/loader.js","mtime":1574699192211},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/cache-loader/dist/cjs.js","mtime":1574699191487},{"path":"/home/nathanc/Documents/dev-web-front/node_modules/vue-loader/lib/index.js","mtime":1574699192187}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hc2sgfSBmcm9tICd2dWUtdGhlLW1hc2snCmltcG9ydCBjbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkaXJlY3RpdmVzOiB7IG1hc2sgfSwKICBuYW1lOiAnVXNlckZvcm0nLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZ0ZpZWxkczogZmFsc2UsCiAgICAgIGFkZHJlc3NOb3RGb3VuZDogZmFsc2UsCiAgICAgIGFkZHJlc3NOb3RGb3VuZFRleHQ6ICcnLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ0UtbWFpbCDDqSByZXF1ZXJpZG8nLAogICAgICAgIHYgPT4gLy4rQC4rLy50ZXN0KHYpIHx8ICdFLW1haWwgZGV2ZSBzZXIgdmFsaWRvJwogICAgICBdLAogICAgICBuYW1lUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAnTm9tZSBDb21wbGV0byDDqSByZXF1ZXJpZG8nCiAgICAgIF0sCiAgICAgIGNwZlJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ0NQRiDDqSByZXF1ZXJpZG8nCiAgICAgIF0sCiAgICAgIGlzTmV3VXNlcjogdHJ1ZSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIHBob25lTnVtYmVyTWFzazogJygjIykjIyMjIy0jIyMjJywKICAgICAgY3BmTWFzazogJyMjIy4jIyMuIyMjLSMjJywKICAgICAgdXNlcjogY2xvbmVEZWVwKHRoaXMudXNlckluZm9zKQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIHVzZXJJbmZvczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBjcGY6ICcnLAogICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgYWRkcmVzczogewogICAgICAgICAgICBjZXA6ICcnLAogICAgICAgICAgICBuZWlnaGJvcmhvb2Q6ICcnLAogICAgICAgICAgICBjaXR5OiAnJywKICAgICAgICAgICAgc3RyZWV0OiAnJywKICAgICAgICAgICAgdWY6ICcnLAogICAgICAgICAgICBjb21wbGVtZW50OiAnJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGlzTmV3UmVnaXN0ZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlTWVudSAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2hvbWUnIH0pCiAgICB9LAogICAgY3JlYXRlVXNlciAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ29rLXByZXNzZWQnLCB0aGlzLnVzZXIpCiAgICB9LAogICAgc2VhcmNoQ0VQICgpIHsKICAgICAgdGhpcy5sb2FkaW5nRmllbGRzID0gdHJ1ZQogICAgICB0aGlzLmF4aW9zLmdldChgaHR0cHM6Ly92aWFjZXAuY29tLmJyL3dzLyR7dGhpcy51c2VyLmFkZHJlc3MuY2VwLnJlcGxhY2UoJy0nLCAnJyl9L2pzb24vYCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvKSB7CiAgICAgICAgICAgIHRoaXMuYWRkcmVzc05vdEZvdW5kID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmFkZHJlc3NOb3RGb3VuZFRleHQgPSAnRW5kZXJlw6dvIG7Do28gZW5jb250cmFkby4nCiAgICAgICAgICAgIHJldHVybgogICAgICAgICAgfQogICAgICAgICAgdGhpcy5hZGRyZXNzTm90Rm91bmQgPSBmYWxzZQogICAgICAgICAgdGhpcy5hZGRyZXNzTWFwcGVyKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy5hZGRyZXNzTm90Rm91bmRUZXh0ID0gJ2Vycm8gaW50ZXJubywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUuJwogICAgICAgICAgdGhpcy5hZGRyZXNzTm90Rm91bmQgPSB0cnVlCiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmdGaWVsZHMgPSBmYWxzZQogICAgICAgIH0pCiAgICB9LAogICAgYWRkcmVzc01hcHBlciAoeyBsb2NhbGlkYWRlLCBiYWlycm8sIGxvZ3JhZG91cm8sIHVmIH0pIHsKICAgICAgdGhpcy51c2VyLmFkZHJlc3MuY2l0eSA9IGxvY2FsaWRhZGUKICAgICAgdGhpcy51c2VyLmFkZHJlc3MubmVpZ2hib3Job29kID0gYmFpcnJvCiAgICAgIHRoaXMudXNlci5hZGRyZXNzLnN0cmVldCA9IGxvZ3JhZG91cm8KICAgICAgdGhpcy51c2VyLmFkZHJlc3MudWYgPSB1ZgogICAgfQogIH0KfQo="},{"version":3,"sources":["UserForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-toolbar\n      color=\"green darken-1\"\n      dark\n    >\n      <v-toolbar-title>{{isNewUser ? 'Criar Cadastro' : 'Editar Cadastro'}}</v-toolbar-title>\n    </v-toolbar>\n    <v-form\n      ref=\"form\"\n      v-model=\"valid\">\n      <v-container>\n        <v-row>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"nameRules\"\n              label=\"Nome Completo*\"\n              required\n              v-model=\"user.name\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"cpfRules\"\n              label=\"CPF*\"\n              required\n              v-mask=\"cpfMask\"\n              v-model=\"user.cpf\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"emailRules\"\n              label=\"E-mail*\"\n              required\n              v-model=\"user.email\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"[v => !!v || 'Telefone é requerido']\"\n              label=\"Telefone*\"\n              required\n              v-mask=\"phoneNumberMask\"\n              v-model=\"user.phoneNumber\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"[v => !!v || 'Campo requerido']\"\n              label=\"Senha\"\n              v-model=\"user.password\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n        <v-divider></v-divider>\n        <h4>Endereço:</h4>\n        <v-alert transition=\"scale-transition\" type=\"error\" v-if=\"addressNotFound\">\n          {{addressNotFoundText}}\n        </v-alert>\n        <v-row>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              label=\"CEP*\"\n              placeholder=\"00000-000\"\n              required\n              v-mask=\"'#####-###'\"\n              v-model=\"user.address.cep\"\n            >\n              <template v-slot:append-outer>\n                <v-btn @click.stop=\"searchCEP\" icon>\n                  <v-icon>mdi-magnify</v-icon>\n                </v-btn>\n              </template>\n            </v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :loading=\"loadingFields\"\n              :placeholder=\"user.address.city+ ' ' + user.address.uf\"\n              disabled\n              label=\"Cidade*\"\n            >\n            </v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :loading=\"loadingFields\"\n              :placeholder=\"user.address.neighborhood\"\n              disabled\n              label=\"Bairro*\"\n            >\n            </v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :loading=\"loadingFields\"\n              :placeholder=\"user.address.street\"\n              disabled\n              label=\"Rua*\"\n            >\n            </v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" sm=\"6\">\n            <v-text-field\n              :rules=\"[v => !!v || 'Complemento é requerido']\"\n              label=\"Complemento*\"\n              required\n              v-model=\"user.address.complement\"\n            >\n            </v-text-field>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-form>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn :disabled=\"!valid\" @click=\"createUser()\" color=\"primary\">{{isNewRegister ? 'Cadastrar' : 'Editar'}}</v-btn>\n      <v-btn @click=\"closeMenu()\" color=\"error\">Cancelar</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { mask } from 'vue-the-mask'\nimport cloneDeep from 'lodash/cloneDeep'\n\nexport default {\n  directives: { mask },\n  name: 'UserForm',\n  data () {\n    return {\n      loadingFields: false,\n      addressNotFound: false,\n      addressNotFoundText: '',\n      emailRules: [\n        v => !!v || 'E-mail é requerido',\n        v => /.+@.+/.test(v) || 'E-mail deve ser valido'\n      ],\n      nameRules: [\n        v => !!v || 'Nome Completo é requerido'\n      ],\n      cpfRules: [\n        v => !!v || 'CPF é requerido'\n      ],\n      isNewUser: true,\n      valid: true,\n      phoneNumberMask: '(##)#####-####',\n      cpfMask: '###.###.###-##',\n      user: cloneDeep(this.userInfos)\n    }\n  },\n  props: {\n    userInfos: {\n      type: Object,\n      default: () => {\n        return {\n          name: '',\n          cpf: '',\n          email: '',\n          phoneNumber: '',\n          password: '',\n          address: {\n            cep: '',\n            neighborhood: '',\n            city: '',\n            street: '',\n            uf: '',\n            complement: ''\n          }\n        }\n      }\n    },\n    isNewRegister: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    closeMenu () {\n      this.$router.push({ name: 'home' })\n    },\n    createUser () {\n      this.$emit('ok-pressed', this.user)\n    },\n    searchCEP () {\n      this.loadingFields = true\n      this.axios.get(`https://viacep.com.br/ws/${this.user.address.cep.replace('-', '')}/json/`)\n        .then(response => {\n          if (response.data.erro) {\n            this.addressNotFound = true\n            this.addressNotFoundText = 'Endereço não encontrado.'\n            return\n          }\n          this.addressNotFound = false\n          this.addressMapper(response.data)\n        })\n        .catch(() => {\n          this.addressNotFoundText = 'erro interno, tente novamente mais tarde.'\n          this.addressNotFound = true\n        })\n        .finally(() => {\n          this.loadingFields = false\n        })\n    },\n    addressMapper ({ localidade, bairro, logradouro, uf }) {\n      this.user.address.city = localidade\n      this.user.address.neighborhood = bairro\n      this.user.address.street = logradouro\n      this.user.address.uf = uf\n    }\n  }\n}\n</script>\n"]}]}